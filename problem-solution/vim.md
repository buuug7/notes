# vim 常用操作

## 全选，全部复制，全部删除

- 全选（高亮显示）：按 esc 后，然后 ggvG 或者 ggVG
- 全部复制：按 esc 后，然后 ggyG
- 全部删除：按 esc 后，然后 dG

解析：

- gg：是让光标移到首行，在 vim 才有效，vi 中无效
- v ： 是进入 Visual(可视）模式
- G ：光标移到最后一行

选中内容以后就可以其他的操作了，比如：

- d 删除选中内容
- y 复制选中内容到 0 号寄存器

## 复制粘贴

1. 选定文本块。使用 v 进入可视模式，移动光标键选定内容。
2. 复制的命令是 y，即 yank（提起），常用的命令如下：
   - y 在使用 v 模式选定了某一块的时候，复制选定块到缓冲区用；按下大写 V 选中一行
   - yy 复制整行（nyy 或者 yny ，复制 n 行，n 为数字）；
   - y^ 复制当前到行头的内容；
   - y\$ 复制当前到行尾的内容；
   - yw 复制一个 word （nyw 或者 ynw，复制 n 个 word，n 为数字）；
   - yG 复制至档尾（nyG 或者 ynG，复制到第 n 行，例如 1yG 或者 y1G，复制到档尾
3. 剪切的命令是 d，即 delete，d 与 y 命令基本类似，所以两个命令用法一样，包括含有数字的用法.
   - d 剪切选定块到缓冲区；
   - dd 剪切整行
   - d^ 剪切至行首
   - d\$ 剪切至行尾
   - dw 剪切一个 word
   - dG 剪切至档尾
4. 粘贴的命令式 p，即 put（放下）
   - p 小写 p 代表贴至游标后（下），因为游标是在具体字符的位置上，所以实际是在该字符的后面
   - P 大写 P 代表贴至游标前（上）
   - 整行的复制粘贴在游标的上（下）一行，非整行的复制则是粘贴在游标的前（后）

## 撤销恢复

命令模式下（即按 ESC 后的模式）

- u 撤销
- Ctrl r (组合键) 反撤销<后悔撤销>

## 显示行号、隐藏行号

进入 Normal 模式，输入`set nu` 显示行号，输入`:set nonu` 隐藏行号

## 保存，放弃修改, 退出

- `wq` 保存
- `q!` 不保存
- `q` 退出

## vim 中命令行模式切换到输入模式

- a： 从目前光标所在位置的下一个字符开始输入。
- A： 从行尾开始输入。
- i： 从光标所在位置开始插入新输入的字符。
- I： 从行首开始输入。
- o： 新增加一行，并将光标移到下一行的开头。
- O： 在当前行之上新增一行。

## 搜索

`/` 查找匹配字符串功能。如/(，将查找(和)；如果想继续向下查找，可以按 n 键；向前继续查找则按 N 键
