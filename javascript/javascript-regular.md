# Javascript 正则表达式

ECMAScript 通过 RegExp 类型来支持正则表达式.

## 创建

```javascript
const re = /ab+c/;
// or
const re = new RegExp("ab+c");
```

## 转义

反斜杠是字符串文字中的转义, 请始终转义它, 字符串中的`\`都是成对出现

```javascript
const re = /[a-z]:\\/i;
const matches = re.test("C:\\"); // true

// 使用 RegExp 构造函数, 如下等价于 re
const re1 = new RegExp("[a-z]:\\\\", "i");
```

## 特殊字符

- `\d` 匹配所有数字，`[0-9]`的简写
- `\D` 匹配非数字，`[^0-9]`的简写
- `\s` 匹配空白字符，`[\t\n\v\r\f]`的简写
- `\S` 匹配非空字符
- `\w` 匹配单词字符，`[a-zA-z_0-9]`的简写
- `\W` 匹配非单词字符，`[^\w]`
- `[\b]` 匹配一个退格
- `\b` 匹配单词边界
- `\B` 匹配非单词边界
- `\f` 匹配一个换页符 (U+000C)
- `\n` 匹配一个换行符 (U+000A)
- `\r` 匹配一个回车符 (U+000D)
- `\v` 匹配一个垂直制表符 (U+000B)
- `\xhh` 匹配一个两位十六进制表示的字符 `\x00 - \xFF`
- `\uhhhh` 匹配一个四位十六进制表示的 UTF-16 代码单元
- `\u{hhhh} 或 \u{hhhhh}` 匹配一个十六进制表示的 Unicode 字符, 在设置了 u 标志时

## 常见匹配符号

- `.` 默认匹配除换行符之外的任何单个字符
- `^regex` 匹配以 regex 开头的字符串
- `regex$` 匹配以 regex 结尾的字符串
- `[abc]` 匹配 a 或者 b 或者 c
- `[abc][vc]` 匹配 a 或者 b 或者 c，后面跟随着 v 或者 c
- `[^abc]` 匹配不是 a 或者 b 或者 c 的字符
- `[0-9a-z]` 匹配 0-9 之间或者 a-z 之间的字符
- `x|y` 匹配 x 或者 y
- `xy` 匹配 x 后面紧跟 y

## 量词

- `*` 出现 0 次或者多次，`{0,}`的简写
- `+` 出现 1 次或者多次，`{1,}`的简写
- `?` 出现 0 次或者 1 次, `{0,1}`的简写
- `{x}` 出现 x 次
- `{x,y}` 出现次数在 x 跟 y 之间
- `*?` 惰性匹配，匹配最少的，在首次匹配成功后不在去匹配

## 标记

- g 全局搜索。
- i 不区分大小写搜索。
- m 多行搜索。
- s 允许 . 匹配换行符。
- u 使用 unicode 码的模式进行匹配。
- y 执行“粘性(sticky)”搜索,匹配从目标字符串的当前位置开始。

## 分组

使用圆括号来分组，使用`$`来访问分组，`$1`表示第一个分组匹配的内容，`$2`表示第二个分组。。。

```javascript
const match = /(\w+)\s+(\w+)/.exec("we go");
console.log(RegExp.$1); // we
console.log(RegExp.$2); // go
```

## 反向引用

反向引用,用`\编号` 表示法来引用

```javascript
/(dog)\1/.test("dogdog"); // true ,这里的\1 就表示第一个捕获组
```

## 其他

#### 非捕获括号 `(?:x)`

`(?:x)`, 匹配 'x' 但是不记住匹配项。这种括号叫作非捕获括号，使得你能够定义与正则表达式运算符一起使用的子表达式。

#### 先行断言 `x(?=y)`

`x(?=y)` 匹配'x'仅仅当'x'后面跟着'y'

#### 后行断言 `(?<=y)x`

匹配'x'仅当'x'前面是'y'.

#### 正向否定查找 `x(?!y)`

仅仅当'x'后面不跟着'y'时匹配'x'，这被称为正向否定查找。

#### 反向否定查找 `(?<!y)x`

仅仅当'x'前面不是'y'时匹配'x'，这被称为反向否定查找。
